
Requirements to build from sources
==================================

* Proper Java JRE/JDK from Sun, e.g. 1.6.0_24 or 1.6.0_25
  http://java.sun.com/javase/downloads/index.jsp

* Netbeans 6.9
  http://www.netbeans.org/downloads/index.html

* Scala for Netbeans: version 6.9v1.1.0
  http://wiki.netbeans.org/Scala
  http://wiki.netbeans.org/Scala68v1
  http://sourceforge.net/projects/erlybird/files/nb-scala/6.9v1.1.0

* jEdit 4.3.2
  http://www.jedit.org/
  Netbeans Project "jEdit": install official sources as ./contrib/jEdit/.

* jEdit plugins:
  Netbeans Library "Console" = $HOME/.jedit/jars/Console.jar
  Netbeans Library "SideKick" = $HOME/.jedit/jars/SideKick.jar
  Netbeans Library "ErrorList" = $HOME/.jedit/jars/ErrorList.jar
  Netbeans Library "Hyperlinks" = $HOME/.jedit/jars/Hyperlinks.jar

* Cobra Renderer 0.98.4
  http://lobobrowser.org/cobra.jsp
  Netbeans Library "Cobra-Renderer" = .../cobra.jar
  Netbenas Library "Rhino-JavaScript" = .../js.jar

* Isabelle/Pure Scala components
  Netbeans Library "Isabelle-Pure" = ~~/lib/classes/Pure.jar

* Scala Compiler 2.8.1.final or 2.9.0.final
  http://www.scala-lang.org
  Netbeans Library "Scala-compiler" = $SCALA_HOME/lib/scala-compiler.jar


Building and running from command line (recommended)
====================================================

* Manual build:

  ( cd "$HOME/isabelle/repos/src/Pure" && isabelle env ./build-jars )
  ant jar
  makedist -j "$HOME/lib/jedit-4.3.2"  #location of original jedit distribution

* Component setup, e.g. in $ISABELLE_HOME_USER/.isabelle/etc/settings:

  [ -d "$HOME/isabelle/jedit" ] && init_component "$HOME/isabelle/jedit"  #build location

* Run:

  isabelle jedit -l HOL Test.thy &


Running the application within Netbeans (not recommended)
=========================================================

* Project properties: add "Run" argument like
    -noserver -nobackground -settings=/home/makarius/isabelle/isabelle-jedit/dist

* The Isabelle environment is obtained automatically via
  "$ISABELLE_HOME/bin/isabelle getenv", where ISABELLE_HOME is determined as follows:

    (1) via regular Isabelle settings,
    e.g. "isabelle env netbeans"

    (2) or via ISABELLE_HOME from raw process environment,
    	e.g. "env ISABELLE_HOME=.../Isabelle netbeans"

    (3) or via JVM system properties (cf. "Run / VM Options")
    	e.g. -Disabelle.home=.../Isabelle


Misc notes
==========

- Netbeans config/Editors/Preferences/...-CustomPreferences.xml

    <entry javaType="java.lang.Integer" name="caret-blink-rate" xml:space="preserve">
        <value><![CDATA[0]]></value>
    </entry>

-----------------------------------------------------------------------
To run jedit with remote debugging enabled, I use the following
command: "java
-agentlib:jdwp=transport=dt_socket,suspend=y,server=y,address=XXXX
-jar jedit.jar"

where XXXX is any open port number you wish. The above invocation
works for Sun's JDK 5.0.  There's an alternate incantation for earlier
releases. (See
http://java.sun.com/j2se/1.5.0/docs/guide/jpda/conninv.html)
-----------------------------------------------------------------------
